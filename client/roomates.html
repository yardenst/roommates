<head>
	<title>roomates</title>
</head>

<body>
	<header>
		{{>newRoomate}}
		{{>returningsAction}}
	</header>

	{{>apartment}}
	
	
</body>

<template name="returningsAction">
	<button>calculate returnings</button>
</template>

<template name="apartment">
	{{#if roomates}}
	<ul id="roomates">
		{{#each roomates}}
		<li id="roomate_{{_id}}">
			{{>newPayment}}
			<h2>{{name}}</h2>
			{{>payments}}
		</li>
		{{/each}}
	</ul>
	{{else}}
	<b>no roomates yet</b>
	{{/if}}
</template>

<template name="payments">
	{{#if payments}}
	<ul class="payments clearfix" >
		{{#each payments}}
		<li>
			<button class="removePayment">x</button>
			<span class="what">{{text}}</span>
			<span class="money">{{money}}  ₪</span>
		</li>
		{{/each}}
	</ul>
	{{#if total}}
	<div class="totalPayments">
		{{ total }} ₪
	</div>
	{{/if}}

	{{else}}
	-- no payments yet --
	{{/if}}
	<div style="direction:ltr">
	{{>returnings}}
</div>
	
</template>

<template name="returnings">
	{{#if returnings}}
	<ul class="perRommateReturnings clearfix">
		{{#each returnings}}
		<li> {{payment}} ₪ -> {{getter}} 	</li>
		{{/each}}
	</ul>
	{{else}}
	<div class="money-back">
		You need to get money back :)
	</div>
	{{/if}}
</template>


<template name="newPayment">
	<div class="newPayment">
		<input type="text" placeholder="what" id="what" >
		<input type="text" min="1" placeholder="$$$" id="money" >
		<button class='pay'>add</button>
	</div>
</template>


<template name="newRoomate">
	<input type="text" placeholder="roomate name..." id="newRoomateName">
	<button id="createRoomateBtn">new roomate</button>
</template>

